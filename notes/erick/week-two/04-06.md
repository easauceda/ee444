# 4/06/2016 Lecture Notes

### Table of Contents
 
 - [Instruction Cycle](#instruction-cycle)
 - [Hypothetical Machine (AC, PC, IR)](#hypothetical-machine--ac,-pc,-ir--)
 - [Hypothetical Machine (AC, PC, IR, MAR, MBR)](#hypothetical-machine--ac,-pc,-ir,-mar,-mbr--)
 - [Interrupts](#interrupts)

### Instruction Cycle

All these components communicate through the **system bus**

There are different types:
  - Data Bus
  - Address Bus
  - Control Bus

The system bus is bi-directional.

**Instruction Cycle**:
 - IF = Instruction Fetch
 - IE = Instrcution Execution

 1. Instruction Fetch
 2. Instruction Decoding
 3. Instruction Execution
 4. Memory
 5. Write Back

**Instruction Cycle Example**
 1. Address of instruction is in _PC_.
 2. Processor USES that address to fetch the instruction and brings it into processor (IR).
 3. Processor always increments _PC_ to point to the next instruction to be fetched.
 4. Instruction includes information that indicates what operation has to be performed (decoding).
 5. Instruction executed.

### Hypothetical Machine (AC, PC, IR)

**Definitions**:
  - **AC**: Accumulator (Register)
  - **PC**: Program Counter (Holds the address of the instruction to be fetched)
  - **IR**: Instruction Register (Holds instrucution after it is fetched from memory)

### Hypothetical Machine (AC, PC, IR, MAR, MBR)

**Definitions**:
  - **AC**: Accumulator (Register)
  - **PC**: Program Counter (Holds the address of the instruction to be fetched)
  - **IR**: Instruction Register (Holds instrucution after it is fetched from memory)
  - **MAR**: Memory Address Register
  - **MBR**: Memory Buffer Register

1. Step One
 - PC **<-** 300
 - MAR **<-** PC
 - MBR **<-** MEM[300]
 - PC **<-** PC + 1
 - IR **<-** MBR
 - MAR **<-** 940
 - MBR **<-** MEM[940]
 - AC **<-** MBR
2. Step Two
 - PC **<-** 301
 - MAR **<-** PC
 - MBR **<-** MEM[301]
 - PC **<-** PC + 1
 - IR **<-** MBR
 - MAR **<-** 941
 - MBR **<-** MEM[941]
 - AC **<-** AC + MEM[941]
 - AC **<-** 0003 + 0003 = 0005
3. Step Three
 - PC **<-** 302
 - MAR **<-** PC
 - MBR **<-** MEM[302]
 - PC **<-** PC + 1
 - IR **<-** MBR
 - MAR **<-** 941
 - MEM[941] **<-** AC

### Interrupts

Almost all computers allow for interrupts to the normal processing of the processor. They can also improve CPU efficiency. Can also be used to signal that you're done with something.

Mechanism by which other modules (e.g I/O) may interrupt normal sequence of processing.

Types:

 - Program
  - e.g. overflow, division by zero
 - Timer
  - Generated by internal processor timer
  - Used in pre-emptive multi-tasking
 - I/O
  - from I/O controller
 - Hardware
  - e.g. memory parity error.

